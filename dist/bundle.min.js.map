{"version":3,"sources":["script.js"],"names":["form","document","querySelector","output","executeQuery","e","preventDefault","query","search","value","cors","endpoint","response","fetch","json","resultsArr","parseData","console","dir","processResults","results","i","length","currentResult","title","body","url","push","toAppend","reduce","a","b","log","innerHTML","addEventListener"],"mappings":";;AAAA,MAAMA,OAAOC,SAASC,aAAT,CAAuB,MAAvB,CAAb;AACA,MAAMC,SAASF,SAASC,aAAT,CAAuB,SAAvB,CAAf;;AAEA,eAAeE,YAAf,CAA4BC,CAA5B,EAA+B;AAC7BA,IAAEC,cAAF;;AAEA;AACA,QAAMC,QAAQP,KAAKQ,MAAL,CAAYC,KAA1B;AACA,QAAMC,OAAO,sCAAb;AACA,QAAMC,WAAY,GAAED,IAAK,gGAA+FH,KAAM,EAA9H;;AAEA;AACA,QAAMK,WAAW,MAAMC,MAAMF,QAAN,CAAvB;AACA,QAAMG,OAAO,MAAMF,SAASE,IAAT,EAAnB;AACA,QAAMC,aAAaC,UAAUF,IAAV,CAAnB;;AAEA;AACA;AACAG,UAAQC,GAAR,CAAYH,UAAZ;AACAI,iBAAeJ,UAAf;AACD;;AAED,SAASC,SAAT,CAAmBF,IAAnB,EAAyB;AACvB,QAAMM,UAAU,EAAhB;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIP,KAAK,CAAL,EAAQQ,MAA5B,EAAoCD,GAApC,EAAyC;AACvC,UAAME,gBAAgB,EAAtB;AACAA,kBAAcC,KAAd,GAAsBV,KAAK,CAAL,EAAQO,CAAR,CAAtB;AACAE,kBAAcE,IAAd,GAAqBX,KAAK,CAAL,EAAQO,CAAR,CAArB;AACAE,kBAAcG,GAAd,GAAoBZ,KAAK,CAAL,EAAQO,CAAR,CAApB;AACAD,YAAQO,IAAR,CAAaJ,aAAb;AACD;AACD,SAAOH,OAAP;AACD;;AAED,SAASD,cAAT,CAAwBJ,UAAxB,EAAoC;AAClC,QAAMa,WAAWb,WAAWc,MAAX,CAAkB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC3C,WAAOD,IAAK,YAAWC,EAAEL,GAAI,qBAAoBK,EAAEP,KAAM,UAASO,EAAEN,IAAK,MAAzE;AACD,GAFgB,EAEd,EAFc,CAAjB;;AAIAR,UAAQe,GAAR,CAAYJ,QAAZ;AACAzB,SAAO8B,SAAP,GAAmBL,QAAnB;AACD;;AAED5B,KAAKkC,gBAAL,CAAsB,QAAtB,EAAgC9B,YAAhC","file":"bundle.min.js","sourcesContent":["const form = document.querySelector('form');\r\nconst output = document.querySelector('.output');\r\n\r\nasync function executeQuery(e) {\r\n  e.preventDefault();\r\n\r\n  // Build the URL to make the query\r\n  const query = form.search.value;\r\n  const cors = 'https://cors-anywhere.herokuapp.com/';\r\n  const endpoint = `${cors}https://en.wikipedia.org/w/api.php?action=opensearch&format=json&limit=10&namespace=0&search=${query}`;\r\n\r\n  // Get the data, then process it into a usable array of objects.\r\n  const response = await fetch(endpoint);\r\n  const json = await response.json();\r\n  const resultsArr = parseData(json);\r\n\r\n  // Process further until it can be added to the DOM\r\n  // const domElements = processResults(results);\r\n  console.dir(resultsArr);\r\n  processResults(resultsArr);\r\n}\r\n\r\nfunction parseData(json) {\r\n  const results = [];\r\n  for (let i = 0; i < json[1].length; i++) {\r\n    const currentResult = {};\r\n    currentResult.title = json[1][i];\r\n    currentResult.body = json[2][i];\r\n    currentResult.url = json[3][i];\r\n    results.push(currentResult);\r\n  }\r\n  return results;\r\n}\r\n\r\nfunction processResults(resultsArr) {\r\n  const toAppend = resultsArr.reduce((a, b) => {\r\n    return a + `<a href=\"${b.url}\" target=\"_blank\">${b.title}</a><p>${b.body}</p>`;\r\n  }, '');\r\n\r\n  console.log(toAppend);\r\n  output.innerHTML = toAppend;\r\n}\r\n\r\nform.addEventListener('submit', executeQuery);"]}